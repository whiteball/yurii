//******************************************************************************
// YAYA　ゴーストテンプレート
// 種々のイベント辞書
//******************************************************************************

//******************************************************************************
//シェル切り替え
//******************************************************************************

//------------------------------------------------------------------------------
//シェルチェンジ開始
//------------------------------------------------------------------------------

OnShellChanging
{
	"\u\s[10]\h\s[0]ちょっと着替えてきますね。\w9\u\s[18]覗くなよ？\e"
}

//------------------------------------------------------------------------------
//シェルチェンジ完了
//------------------------------------------------------------------------------
OnShellChanged
{
	"\h\s[0]\u\s[10]着替え完了っと。\w9\h女の子が着替えて現れたら、お世辞の一つも言えないとモテませんよ。\w9\u\n\n\s[14]いや、オマエ女じゃねーし。\e"
}


//******************************************************************************
//インストール関連
//******************************************************************************

//------------------------------------------------------------------------------
//インストール中のメッセージ
//------------------------------------------------------------------------------
OnInstallBegin
{
	"\u\s[10]\h\s[0]あら、新しい方でしょうか。\w9\uどんなヤツかな。\e"
}

//------------------------------------------------------------------------------
//インストール完了メッセージ
//------------------------------------------------------------------------------
OnInstallComplete
{
	_ref0 = SPLIT(reference[0],' with',2)[0] //hogehoge with hemohemo
	
	"\h\s[0]「"
	--
	if _ref0 == "shell" {
		"シェル"
	}
	elseif _ref0 == "ghost" {
		"ゴースト"
	}
	elseif _ref0 == "balloon" {
		"バルーン"
	}
	elseif _ref0 == "plugin" {
		"プラグイン"
	}
	--
	" %(reference[1])」が来られたようですね。\n"
	--
	if basewarenameex == 'SSP' {
		_id = ''
		if _ref0 == "shell" {
			_id = 'shell'
		}
		elseif _ref0 == "ghost" {
			_id = 'ghost'
		}
		elseif _ref0 == "balloon" {
			_id = 'balloon'
		}
		
		if _id != '' {
			"\w9\uそいつの所に会いに行くのか？\h"
			--
			AYATEMPLATE.MenuItem("会いに行く","OnAYATEMPLATE.InstallChange",_id,200)
			--
			AYATEMPLATE.MenuItem("会いに行かない","Menu_CANCEL")
		}
	}
}

OnAYATEMPLATE.InstallChange
{
	"\![change,%(reference[0]),lastinstalled]"
}

//------------------------------------------------------------------------------
//インストール失敗メッセージ
//------------------------------------------------------------------------------
OnInstallFailure
{
	"\h\s[6]…\w5…\w5何かあったようですね。\w9\n\nふむ。\w5「%(reference[0])」、と。\e"
}

//------------------------------------------------------------------------------
//インストール拒否（他のゴーストのためのアーカイブだった）
//------------------------------------------------------------------------------
OnInstallRefuse
{
	"\h\s[0]これは、%(reference[0])宛の荷物ですね。\w5響子さん、持っていってもらえますか。\w9\u\s[3]えー、めんどう。\e"
}


//******************************************************************************
//消滅関連
//******************************************************************************

//------------------------------------------------------------------------------
//消滅指示
//------------------------------------------------------------------------------
OnVanishSelecting
{
	"\u\s[10]\h\s[0]オオサカから出ていくんですね。\w9\u\s[4]えー、もっと遊んでいこうぜ。\e"
}

//------------------------------------------------------------------------------
//消滅開始
//------------------------------------------------------------------------------
OnVanishSelected
{
	"\u\s[10]\h\s[6]それでは。\n\w5生きていれば、また出会うこともあるでしょう。\w9\n\n\s[8]お互い、\w5生きていれば、\w5ですが。\w9\u\s[8]じゃあなー。\w5\n無事にオオサカから抜け出せよー。\e"
}

//------------------------------------------------------------------------------
//消滅中止
//------------------------------------------------------------------------------
OnVanishCancel
{
	"\h\s[0]\u\s[15]そうだよな！\w5もっと遊んでいくよな！\w9\h…\w5…\w5ええ、ボクはどちらでもいいですけどね。\w5ボクは。\w9\u\n\nユーリィ、お前も素直に喜べよ。\e"
}

//------------------------------------------------------------------------------
//他のゴーストが消滅して自分に切り替わった
//------------------------------------------------------------------------------
OnVanished
{
	"\u\s[10]\h\s[6]14番の彼方への往かれましたか。\w9\u\s[16]アタシらも気をつけないとな。\e"
}


//******************************************************************************
//メールチェック
//******************************************************************************
/*
//------------------------------------------------------------------------------
//メールチェック開始
//------------------------------------------------------------------------------
OnBIFFBegin
{
	"\0\s[5]メールが届いてないかチェックしますね。\n\nマック朗、よろしく。\1\s[10]んむ。\e"
}

//------------------------------------------------------------------------------
//メールチェック成功
//------------------------------------------------------------------------------
OnBIFFComplete
{
	if reference[0] == 0
	{
		//---- メールは無かった
		"\1\s[10]メールは無かったな。\w5\0\s[0]ご苦労さま。\n\n\s[1]‥\w5‥\w5%username。寂しい？\e"
	}
	else
	{
		//---- メールが届いていた
		"\1\s[10]%(reference[0])通のメールがあったぞ。\w5\0\s[5]%username、さっそく見てみたら？\e"
	}
}

//------------------------------------------------------------------------------
//メールチェック失敗
//------------------------------------------------------------------------------
OnBIFFFailure
{
	if reference[0] == "timeout"
	{
		//---- タイムアウト
		"\1\s[10]いつまで待ってもメールサーバにつながらないんだが。\w5\0\s[4]どうしたんだろう‥\w5‥\w5\e"
	}
	elseif reference[0] == "kick"
	{
		//---- 蹴られた
		"\1\s[10]蹴られたぞ。\0\s[1]おかしいね‥\w5‥\w5なんでだろ。\e"
	}
	elseif reference[0] == "defect"
	{
		//---- 設定誤り
		"\1\s[10]なんか、ぜんぜんダメなんだが。\w5\0\s[4]メールチェックの設定を見なおしてね、%username。\e"
	}
	else
	{
		//---- 原因不明
		"\1\s[10]原因はわからないが、失敗。\w5\0\s[4]‥\w5‥\w5あれー？\e"
	}
}
*/

//******************************************************************************
//ネットワーク更新
//******************************************************************************

//------------------------------------------------------------------------------
//ネットワーク更新開始
//------------------------------------------------------------------------------
OnUpdateBegin
{
	"\u\s[10]\h\s[100]郵便物の確認でもしますか。\w5響子さん、ちょっと手伝ってください。\w9\uへいへい。\e"
}
/*
//------------------------------------------------------------------------------
//ネットワーク更新準備完了
//------------------------------------------------------------------------------
OnUpdateReady
{
	"\0\s[0]%(TOINT(reference[0])+1)個のファイルをダウンロードします。\w5\1\s[10]ＯＨ！\e"
	"\0\s[5]%(TOINT(reference[0])+1)個のファイルを%(username)のハードディスクに不法侵入させる開始ー。\w8\1その言い方やめろ。\e"
	"\0\s[5]おーきくなるよー。\w8\1頭がか。\w8\0\s[4]\n\n‥\w5‥\w5ぷー。\e"
}
*/
//------------------------------------------------------------------------------
//ネットワーク更新終了
//------------------------------------------------------------------------------
OnUpdateComplete
{
	if reference[0] == "none"
	{
		//---- 更新すべきファイルが無かった
		"\h\s[6]と思いましたが、郵便はなかったようです。\w9\u\s[204]なんだそりゃ。\e"
	}
	else
	{
		//---- 実際に更新が完了した
		"\h\s[0]はい、これで終わりです。\w5\nお疲れ様でした。\w9\u\s[200]なんか面白い話はあったか？\w9\h\n\n\s[108]それはまあ、おいおい。\e"
	}
}

//------------------------------------------------------------------------------
//ネットワーク更新失敗
//------------------------------------------------------------------------------
OnUpdateFailure
{
	/*
	if reference[0] == "timeout"
	{
		//---- タイムアウトした
		"\0\s[1]‥\w5‥\w5時間切れ？\w8\1どうしたんだろう。"
	}
	elseif reference[0] == "md5 miss"
	{
		//---- MD5値が一致しなかった
		"\u\s[10]\0\s[1]‥\w5‥\w5MD5値が違うんだって。\w8\1お手数だが、配布元に報告して貰えるとありがたいな。"
	}
	else
	{
		//---- 上記以外の理由で失敗した
		"\0\s[1]%(reference[0])、だって。\w5\1\s[10]うーん。"
	}
	--
	*/
	"\h\s[6]これは…\w5…\w5ボク宛の郵便じゃないですね。\w9\u\s[13]なんだ？\w5郵便事故か？\w9\h\n\n\s[4]まあ、よくあることです。\e"
}
/*
//------------------------------------------------------------------------------
//ネットワーク更新 ダウンロード開始
//------------------------------------------------------------------------------
OnUpdate.OnDownloadBegin
{
	"\0\s[5]ファイル「%(reference[0])」をダウンロードします。\e"
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値照合開始
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareBegin
{
	"\0\s[5]ファイルの確認ー。\w8\e"
	"\0\s[1]合ってるかな‥\w5‥\w5\w8\1\e"
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値一致
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareComplete
{
	"\0\s[5]ん、オッケー。\e"
	"\0\s[5]いいみたいだね。\1\s[10]うむ。\e"
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値不一致
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareFailure
{
	"\0\s[1]マック朗、ＭＤ５って何だっけ？\w8\1普通なら間違えることがない情報の事だ。\w8\0\s[4]\n\nつまり、間違えてるんだねこれ。\e"
	"\0\s[1]ぷー‥\w5‥\w5\w8\1なんだよ。\w8\0\n\nたぶんなんかがエラー。\w8\1\n\n多分って。\e"
}
*/
//******************************************************************************
//ヘッドラインセンス
//******************************************************************************
/*
//------------------------------------------------------------------------------
//ヘッドラインセンス開始
//------------------------------------------------------------------------------
OnHeadlinesenseBegin
{
	"\0\s[0]%(reference[0])ヘッドライン取得中。\e"
}

//------------------------------------------------------------------------------
//ヘッドライン読み上げ
//------------------------------------------------------------------------------
OnHeadlinesense.OnFind
{
	//---- はじめのセリフ
	if reference[2] == "First" || reference[2] == "First and Last"
	{
		//---- 最初のページ
		"\0\b2\s[0]%(reference[0])のヘッドラインですよっ。"
	}
	elseif reference[2] == "Next"
	{
		//---- 真ん中あたりのページ
		"\0\b2\s[0]%(reference[0])ヘッドライン、続き。"
	}
	elseif reference[2] == "Last"
	{
		//---- 最後のページ
		"\0\b2\s[0]%(reference[0])ヘッドライン、これが最後のページです。"
	}
	--
	//---- ヘッドライン本体
	"\n\n%(reference[3])\n\n"
	--
	//---- 選択肢
	if reference[2] == "First" || reference[2] == "Next"
	{
		//---- 次のページがある場合
		AYATEMPLATE.MenuItem("次のページ","")
		--
		AYATEMPLATE.MenuItem("サイトへ",reference[1])
		--
		AYATEMPLATE.MenuItem("やめ","Menu_HEADLINECANCEL",150)
	}
	else
	{
		//---- 次のページがない場合
		AYATEMPLATE.MenuItem("サイトへ",reference[1])
		--
		AYATEMPLATE.MenuItem("やめ","Menu_HEADLINECANCEL",150)
	}
}

//------------------------------------------------------------------------------
//ヘッドライン更新が無かった
//------------------------------------------------------------------------------
OnHeadlinesenseComplete
{
	"\0\s[0]%(reference[0])、更新はないみたいです。\e"
}

//------------------------------------------------------------------------------
//ヘッドラインセンス失敗
//------------------------------------------------------------------------------
OnHeadlinesenseFailure
{
	"\0\s[0]ヘッドラインセンスに失敗しました。\n\n理由："
	--
	if reference[0] == "can't download"
	{
		"ダウンロード失敗。"
	}
	elseif reference[0] == "can't analyze"
	{
		"ヘッドライン解析失敗。"
	}
	else
	{
		"謎。"
	}
	--
	"\e"
}
*/

//******************************************************************************
//ファイル作成関連
//******************************************************************************
/*
//------------------------------------------------------------------------------
//updates2.dau作成開始
//------------------------------------------------------------------------------
OnUpdatedataCreating
{
	"\0\s[5]アップデートデータを作成しています。\w8\1できるか？\w8\0\s[4]\n\n多分。\e"
}

//------------------------------------------------------------------------------
//updates2.dau作成完了
//------------------------------------------------------------------------------
OnUpdatedataCreated
{
	"\0\s[5]アップデートデータ、ちゃんと作れたよ。\w8\1よしよし。\e"
}

//------------------------------------------------------------------------------
//NAR作成開始
//------------------------------------------------------------------------------
OnNarCreating
{
	"\0\s[5]narファイルを作成するよ。\w8\1ちゃんとできるのか？\w8\0\n\nまかせて！\w8\1\n\n‥\w5‥\w5不安だなぁ。\e"
}

//------------------------------------------------------------------------------
//NAR作成完了
//------------------------------------------------------------------------------
OnNarCreated
{
	"\0\s[5]「%(reference[0])」のnarファイル、「%(reference[1])」が爽やかに完成！\w8\1爽やかにって。\e"
}
*/
//******************************************************************************
//時計合わせ
//みか (http://homepage2.nifty.com/ko-ki/) の辞書を参考にしました。感謝＞こーき氏
//******************************************************************************

//------------------------------------------------------------------------------
//時計合わせ開始
//------------------------------------------------------------------------------
OnSNTPBegin
{
	"\0\s[0]ちょっと時間ずれてないですか。\w9\1%(reference[0])で確認するぞ。\e"
}

//------------------------------------------------------------------------------
//時刻取得成功、比較開始
//この関数で 2008/03/25 19:15:05 のように見やすい形に作り変えます。
//詳しくはSTRFORM関数の説明を見てね！
//わからなければこのままで。
//------------------------------------------------------------------------------

SNTPCompare_StrForm
{
	_txt = SPLIT(_argv[0],',')
	STRFORM("$04d/$02d/$02d $02d:$02d:$02d",TOINT(_txt[0]),TOINT(_txt[1]),TOINT(_txt[2]),TOINT(_txt[3]),TOINT(_txt[4]),TOINT(_txt[5]))
}

OnSNTPCompare
{
	"\h\s[0]\_q/
	修正前 %(SNTPCompare_StrForm(reference[2]))\n/
	修正後 %(SNTPCompare_StrForm(reference[1]))\n/
	\_q\n"
	--
	if reference[3] == 0
	{
		"うん、あっていますね。\e"
	}
	else
	{
		//\6は補正実行タグ。消しちゃだめ
		"\6\h\n\s[15]%(reference[3])秒ずれてたからなおしておいたぞ。"
	}
}

//------------------------------------------------------------------------------
//時計合わせ失敗
//------------------------------------------------------------------------------
OnSNTPFailure
{
	"\u\s[14]…\w5…\w5あれ？\w9\h\s[4]時計、壊さないでくださいね。\e"
}


//******************************************************************************
//そのほか
//******************************************************************************

//------------------------------------------------------------------------------
//ディスプレイ解像度変更
//------------------------------------------------------------------------------
OnDisplayChange
{
	//---- 変数にディスプレイ解像度と色深度に関する情報を取得
	//---- 使うかどうかは分からないがとりあえず保持しておく
	displaybpp    = reference[0]
	displaywidth  = reference[1]
	displayheight = reference[2]
}
/*
//------------------------------------------------------------------------------
//URLドロップ
//CROW でゴーストインストーラからゴーストをインストールを始めた時にも呼ばれます
//------------------------------------------------------------------------------
OnURLDropping
{
	"\0\s[0]%(reference[0])からデータを取得してるよ。\e"
}
*/
/*
//------------------------------------------------------------------------------
//起動時に MATERIA を検出
//------------------------------------------------------------------------------
OnEmbryoExist
{
	"\0\s[0]あれ、「伺か」が起動してるよ。\w8\1ありがたやありがたや。\w8\0\s[4]\n\nなんで拝むの？\e"
}

//------------------------------------------------------------------------------
//起動時に猫どりふを検出
//------------------------------------------------------------------------------
OnNekodorifExist
{
	"\0\s[2]うわ、猫どりふだ‥\w5‥\w5\w8\1\s[11]まだあったのか！\w8\0\s[4]\n\nえ、そこが問題なの？\e"
}

//------------------------------------------------------------------------------
//スクリーンセーバー実行開始
//------------------------------------------------------------------------------
OnScreenSaverStart
{
	"\0\s[5]画面の焼き付きを保護する開始っ！\w8\e"
}

//------------------------------------------------------------------------------
//スクリーンセーバー実行終了
//------------------------------------------------------------------------------
OnScreenSaverEnd
{
	"\1\s[10]‥\w5‥\w5ややめ、起きろ。\w9\nスクリーンセーバーが無くなったぞ。\w8\0\s[2]わ、いつの間に‥\w5‥\w5\e"
}
*/
